<!-- #+ Title : 第一章
#+ Author : maple5233
#+ Date : 2016-10-05 -->

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>

## 第一章

### 因特网相关

+ 互联网中的设备称为主机(host)或者终端系统(end system)，包括客户端和服务器
	* 主机通过**通信链路**和**分组交换机**连接
	* **路由器**和**链路层交换机**都是分组交换机

+ `ISP`是因特网服务供应商 有不同层级

+ 分组交换：主机与主机之间通过**报文(message)**通信，长的报文又会被分割成**分组(packet、包)**
+ **存储转发机制**：交换机在收到一整组报文之后才开始向输出链路输出
+ 对于每一条输出链路分组交换机都有一个输出缓存，包必须在输出缓存里排队，这叫**排队时延**，一旦缓存占满，则会**丢包**

+ 在因特网中，IP地址的多级结构信息和路由器的**转发表**，决定了路由器拿到包之后往哪条链路送
+ 转发表是由路由选择协议自动设置的

+ 电路交换：另一种端与端通信手段，电话是这种手段的典型例子。特点是源和目标点建立起名副其实的连接，称为电路，这条路上的带宽全部为这个连接空出来。所以电路交换的速度非常可靠。

| 对比 |电路交换|分组交换|
|:---:|:-----:|:-----:|
| 实现 | 复杂，成本高   | 简单,成本低   |
| 可靠性 | 可靠 | 延时不可预测 |
| 利用率 |  低，有空闲浪费 | 高，可共享空闲资源 |
| 特点 | 专线专用 | 共享路由 |

+ 分组交换中时延的分类
	* 处理时延：**检查分组首部和决定将该分组导向何处**所需要的时间是节点处理时延的一部分。其他因素包括检查比特级差错处理（通常是微秒级以下）等。在这之后，路由器将包引向通往路由器B链路之前的队列。
	* 排队时延：在队列中，当分组在链路缓存中等待传输时，它经受排队时延。到达组的分组数量是到达该队列的流量强度和性质的函数。实际的排队时延通常在毫秒到微秒级。
	* 传输时延：用L比特表示分组的长度，用R b/s表示从路由器A到路由器B的链路传输速率。传输时延是L/R。这是将所有分组比特推向链路所需要的时间。实际的传输时延通常在毫秒到微秒级。是包从路由器A中被推出去的时间。与两路由器的距离无关。
	* 传播时延：一旦一个比特被A推向链路，该比特需要向路由器B传播，从该链路的起点到路由器B的传播所需要的时间是传播时延。该比特以该链路的传播速率传播，其速率范围等于或略小于光速。传播时延等于两台路由器之间的距离除以传播速率，即传播时延是d/s，d是两台路由器间的距离，s是该链路的传播速率。传播时延在毫秒级。
	* 传输时延可以看做是车队（包）过收费站（路由器）的时间，而传播时延可看作路上花费的时间。
	* 节点总时延 = 处理时延 \+ 排队时延 \+ 传输时延 \+ 传播时延 一般来说处理时延通常是微不足道的。

+ 排队时延的特殊之处
	* 对于不同的分组（包）可能不一样（后到的可能要等先到的）
	* 取决于流量本身的特点（即突发还是平稳），包括流量到达该队列的速率、链路的传输速率和到达流量的性质
	* 令a表示分组到达队列的平均速率（每秒多少分组，pkt/s），假定所有包都是L b组成的，则比特到达队列的平均速率是La bps。而La/R被称为流量强度
	* 如果La/R > 1，则比特到达队列的平均速率超过从该队列传输出去的速率。在这种不幸的情况下，队列的增加将趋近于无界，并且排队时延将趋向无穷大。因此，流量工程中设计系统时流量强度不能大于1。在因特网中，接近1时将容易发生丢包。
	* 第n个分组有(n-1)L/R的排队时延

+ 端到端时延
假设源主机和目的主机之间有N-1台路由器，并且该网络是无拥塞(不排队)的。那么端到端时延为：\\( d_{end-end} = N (d_{proc} + d_{trans} + d_{prop})\\)

----
此次阅读到P30